<mat-accordion>
    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>
                {{ strings.accountSettings.title }}
            </mat-panel-title>
            <mat-panel-description>
                {{ strings.accountSettings.description }}
            </mat-panel-description>
        </mat-expansion-panel-header>
        <div class="settings-section">
            <div class="settings-section-header">
                {{ strings.accountSettings.changePassword.title}}
            </div>
            <div class="settings-section-content password-change-form">
                <form (submit)="sendPasswordChangeRequest()" [formGroup]="form">
                    <mat-form-field appearance="outline" id="old-password-form-field">
                        <mat-label>
                            {{ strings.accountSettings.changePassword.oldPassword.label}}
                        </mat-label>
                        <input [errorStateMatcher]="errorStateMatcher" [formControl]="controls.oldPassword"
                               matInput
                               type="password">
                        <mat-error *ngIf="errors.oldPassword.notProvided">
                            {{ strings.accountSettings.changePassword.oldPassword.notProvided }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline" id="new-password-form-field">
                        <mat-label>{{ strings.accountSettings.changePassword.newPassword.label }}</mat-label>
                        <input [errorStateMatcher]="errorStateMatcher" [formControl]="controls.newPassword"
                               matInput
                               type="password">
                        <mat-hint *ngIf="!controls.newPassword.touched">
                            {{ strings.accountSettings.changePassword.newPassword.hint }}
                        </mat-hint>
                        <mat-error *ngIf="errors.newPassword.notProvided">
                            {{ strings.accountSettings.changePassword.newPassword.notProvided }}
                        </mat-error>
                        <mat-error *ngIf="errors.newPassword.tooShort()">
                            {{ strings.accountSettings.changePassword.newPassword.tooShort }}
                        </mat-error>
                        <mat-error *ngIf="errors.newPassword.tooLong()">
                            {{ strings.accountSettings.changePassword.newPassword.tooLong }}
                        </mat-error>
                        <mat-error *ngIf="errors.newPassword.doesntMatchPattern()">
                            {{ strings.accountSettings.changePassword.newPassword.doesntMatchPattern }}
                        </mat-error>
                    </mat-form-field>
                    <div class=mat-form-button>
                        <button [disabled]="form.invalid" color="accent" id="change-password-button" mat-raised-button
                                type="submit">
                            {{ strings.accountSettings.changePassword.button }}
                        </button>
                        <div *ngIf="errors.passwordsAreNotEqual()" class="mat-form-button-error"
                             id="change-password-button-error">
                            {{ strings.accountSettings.changePassword.passwordsEqual }}
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <mat-divider></mat-divider>
        <div class="settings-section">
            <div class="settings-section-header">Dummy section</div>
            <div>no content here</div>
        </div>
    </mat-expansion-panel>
</mat-accordion>
